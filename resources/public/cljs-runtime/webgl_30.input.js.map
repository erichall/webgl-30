{"version":3,"sources":["webgl_30/input.cljs"],"mappings":"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","names":["var_args","G__513077","webgl-30.input/setup-listener!","js/Error","obj","event-type","callback","args","js/window","G__513079","webgl-30.input/listen","element","type","prevent-default?","out","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$0","webgl_30.input.setup_listener_BANG_.cljs$core$IFn$_invoke$arity$3","evt","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","webgl_30.input.listen.cljs$core$IFn$_invoke$arity$3","webgl-30.input/mousedown","canvas","on-click","c","webgl_30.input.listen.cljs$core$IFn$_invoke$arity$2","c__25675__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__25676__auto__","switch__25637__auto__","state_513088","state_val_513089","statearr-513090","cljs.core.async.impl.ioc-helpers/take!","inst_513086","cljs.core.async.impl.ioc-helpers/return-chan","inst_513082","inst_513083","statearr-513091","statearr-513092","statearr-513093","state-machine__25638__auto__","ret-value__25639__auto__","result__25640__auto__","cljs.core/keyword-identical?","e513094","js/Object","ex__25641__auto__","statearr-513095","cljs.core.async.impl.ioc-helpers/process-exception","state__25677__auto__","statearr-513096","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped"],"sourcesContent":["(ns webgl-30.input\n  (:require [cljs.core.async :as async]))\n\n(defn setup-listener!\n  ([obj event-type callback args]\n   (.addEventListener obj event-type callback args))\n  ([obj event-type callback]\n   (.addEventListener obj event-type callback))\n  ([event-type callback]\n   (.addEventListener js/window event-type callback)))\n\n(defn- listen\n  ([element type prevent-default?]\n   (let [out (async/chan)]\n     (setup-listener! element type (fn [evt]\n                                     (when prevent-default?\n                                       (.preventDefault evt))\n                                     (async/put! out evt)))\n     out))\n  ([element type]\n   (listen element type false)))\n\n(defn mousedown\n  [canvas on-click]\n  (let [c (listen canvas \"mousedown\")]\n    (async/go-loop [] (let [i (async/<! c)]\n                        (on-click i)\n                        (recur)))))\n"]}