{"version":3,"sources":["webgl_30/lessons/main.cljs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA,AACmCC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC,AACAC;AAMxC,AAAA,AACA,AAAA,AAAAC,AAAAC,AAAAC,AAAAC;AAAA;AAAA,AAAA,AAASC,AAAW,AAAA,AAACC;;AACrB,AAAM,AAAA,AAAAC,AAAA,AAAOF;AAAb,AACE,AAACG,AAAOH,AAAWhC;;AACnB,AAAA,AAACoC,AAAUJ,AAAiB,AAAKK,AAAEA,AAAEA,AAAEA;AAAX,AACE,AAAAC,AAAA,AAAAJ,AAAmBF;AAAnB,AAAA,AAAAM,AAAAA,AAACC,AAAAA,AAAAA;;;AAHjC;AAKA,AAAA,AAAMC;AAAN,AAEE,AAAMC,AAAW,AAAA,AAACC;AAAlB,AACE,AAAAC;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAA,AAAAI,AAAAJ,AAAA,AAAaK;AAAb,AAAAD,AAAAJ,AAAA,AAAoBM;AAApB,AAAAF,AAAAJ,AAAA,AAA0BO;AAA1B,AAAAH,AAAAJ,AAAA,AAAgCQ;AAAhC,AAAAJ,AAAAJ,AAAA,AAAyCS;AAAzC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACwBJ,AACAC,AACA;AAAA,AACE,AAAA,AAACf,AAAOM;;AACR,AAACW,AAAAA,AAAAA;AAL3B,AAMwB;AAAA,AAAO,AAAA,AAACjB,AAAOM;AANvC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAOwB,AAAA,AAAA,AAAYQ,AAAWC,AACvB,AAAA,AAAA,AAAA,AAACI,AAA0BD,AAC1B,AAAA,AAAA,AAAA,AAAA,AAAeF,AAAU,AAAA,AAAGD,AAAa,AAAA,AAAGD,AAElC,AAAA,AAAAf,AAAA,AAAA,AAAKO,AAEf,AAAA,AAAA,AAAA,AAAK,AAAA,AAAGS,AAAiBD,AAAWC,AAAUD;;;AAE3E,AAAA,AAAAM,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAX,AAAA,AAAAW,AAAA,AAAA,AAAA,AAAA,AAAAV,AAAAC,AAAAS,AAAAA;AAAA,AAAAR,AAAAQ,AAAA,AACWH;AADX,AAAAL,AAAAQ,AAAA,AACiBE;AADjB,AAAAV,AAAAQ,AAAA,AACyBG;AADzB,AAAAX,AAAAQ,AAAA,AACkCI;AADlC,AAAAZ,AAAAQ,AAAA,AAC4CK;AAD5C,AAEE,AAAA,AAAMC;AAAN,AACMC;AADN,AAAA,AAAA,AAAA,AAAA,AAEgB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACT,AAGMD,AACpB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAMO,AACHpB,AAAeuB,AAAoBD,AAAiCJ,AACvE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAMG,AACHrB,AAAeuB,AAAoBD,AAAgCH;;AAE3E,AAAA,AAAAK,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAApB,AAAA,AAAAoB,AAAA,AAAA,AAAA,AAAA,AAAAnB,AAAAC,AAAAkB,AAAAA;AAAA,AAAAjB,AAAAiB,AAAA,AACWE;AADX,AAEE,AAAAC,AAAmD,AAAA,AAAA,AAACK,AAAON,AAAgB,AAAA,AAAoBA;AAA/FC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAvB,AAAA,AAAAuB,AAAA,AAAA,AAAA,AAAA,AAAAtB,AAAAC,AAAAqB,AAAAA;AAAA,AAAApB,AAAAoB,AAAA,AAAcC;AAAd,AAAArB,AAAAoB,AAAA,AAAoBE;AAApB,AAAAtB,AAAAoB,AAAA,AAA0BG;AAA1B,AAAAvB,AAAAoB,AAAA,AAAiCI;AAAjC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKKH,AACAZ,AAAwB,AAAA,AAAG,AAAA,AAAoBU,AACvB,AAAG,AAAA,AAAoBA,AAAO,AAAA,AAAK,AAACO,AAAM,AAAA,AAAUP,AACpD;AAAA,AACE,AAACQ,AAAM3C,AAAW,AAAA4C;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAhC,AAAA,AAAAgC,AAAA,AAAA,AAAA,AAAA,AAAA/B,AAAAC,AAAA8B,AAAAA;AAAAA,AAAoCV;AAApC,AAAAnB,AAAA6B,AAAA,AAAaC;AAAb,AACE,AAAI,AAAA,AAAOA;AACTX;;AACA,AAAA,AAACY,AAAMZ,AAAyB,AAAA,AAAKW;;;AAZ1F,AAa6B;AAAA,AACE,AAACH,AAAM3C,AAAW,AAAAgD;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAApC,AAAA,AAAAoC,AAAA,AAAA,AAAA,AAAA,AAAAnC,AAAAC,AAAAkC,AAAAA;AAAAA,AAA4Cd;AAA5C,AAAAnB,AAAAiC,AAAA,AAAaC;AAAb,AAAAlC,AAAAiC,AAAA,AAAqBH;AAArB,AACE,AAAI,AAACK,AAAE,AAAA,AAAK,AAACT,AAAMQ,AAAUJ;AAC3BX;;AACA,AAAA,AAACY,AAAMZ,AAAyB,AAAA,AAAKW;;;AAjB1F,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAoBKR,AAOa,AAAA,AAAoDE,AAGxBA,AACX,AAAA,AAA6DD;;AAOlG,AAAA,AAAMhC,AACH4B;AADH,AAEE,AAAA,AAAA,AAAA,AAACiB,AAAWlB,AAAYC,AACb,AAAA,AAAGkB;;AAEhB,AAAA,AAAMC;AAAN,AAEE,AAAA,AAAApD,AAACK,AAAkBP;;AAErB,AAAA,AAAMuD;AAAN,AAEE,AAAA,AAAArD,AAACK,AAAkBP","names":["webgl-30.lessons.main/initial-state","webgl-30.lessons.fundamentals-0/lesson","webgl-30.lessons.fundamentals-1/lesson","webgl-30.lessons.fundamentals-2/lesson","webgl-30.lessons.translation-2d-0/lesson","webgl-30.lessons.translation-2d-1/lesson","webgl-30.lessons.rotation-2d-0/lesson","webgl-30.lessons.scale-2d/lesson","webgl-30.lessons.matrices-2d_0/lesson","webgl-30.lessons.matrices-2d_1/lesson","webgl-30.lessons.matrices-2d_2/lesson","webgl-30.lessons.orthographic_3d_0/lesson","webgl-30.lessons.orthographic_3d_1/lesson","webgl-30.lessons.perspective_3d_0/lesson","webgl-30.lessons.perspective_3d_1/lesson","webgl-30.lessons.cameras-0/lesson","webgl-30.lessons.cameras-1/lesson","webgl-30.lessons.animations/lesson","webgl-30.lessons.textures-0/lesson","webgl-30.lessons.textures-1/lesson","webgl-30.lessons.textures-2/lesson","webgl-30.lessons.textures-3/lesson","webgl-30.lessons.textures-3-revised/lesson","webgl-30.lessons.hello_point_1/lesson","webgl-30.lessons.hello_point_2/lesson","webgl-30.lessons.click-point/lesson","webgl-30.lessons.color-point/lesson","webgl-30.lessons.multipoint/lesson","js/webgl-30","js/webgl-30.lessons","js/webgl-30.lessons.main","js/webgl-30.lessons.main.state-atom","webgl-30.lessons.main/state-atom","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","cljs.core/deref","cljs.core/reset!","cljs.core/add-watch","_","G__26853","webgl-30.lessons.main/render-component","webgl-30.lessons.main/arrow","click-atom","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","p__26854","map__26855","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","height","width","angle","on-click","style","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","p__26857","map__26858","webgl-30.lessons.main/navigation","on-left","on-right","show-left","show-right","arrow-width","arrow-height","p__26860","map__26861","webgl-30.lessons.main/app","state","map__26863","title","start","source","tutorial-source","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","cljs.core/count","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2","p__26865","map__26866","active-page-index","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","p__26868","map__26869","lessons","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","reagent.dom.render.cljs$core$IFn$_invoke$arity$2","js/document","webgl-30.lessons.main/init!","webgl-30.lessons.main/reload!"],"sourcesContent":["(ns webgl-30.lessons.main\n  (:require [reagent.dom :as rd]\n            [reagent.core :as r]\n            [webgl-30.lessons.fundamentals-0 :as fundamentals-0]\n            [webgl-30.lessons.fundamentals-1 :as fundamentals-1]\n            [webgl-30.lessons.fundamentals-2 :as fundamentals-2]\n            [webgl-30.lessons.translation-2d-0 :as translation-2d-0]\n            [webgl-30.lessons.translation-2d-1 :as translation-2d-1]\n            [webgl-30.lessons.rotation-2d-0 :as rotation-2d-0]\n            [webgl-30.lessons.scale-2d :as scale-2d]\n            [webgl-30.lessons.matrices-2d_0 :as matrices-2d_0]\n            [webgl-30.lessons.matrices-2d_1 :as matrices-2d_1]\n            [webgl-30.lessons.matrices-2d_2 :as matrices-2d_2]\n            [webgl-30.lessons.orthographic_3d_0 :as orthographic-3d-0]\n            [webgl-30.lessons.orthographic_3d_1 :as orthographic-3d-1]\n            [webgl-30.lessons.perspective_3d_0 :as perspective-3d-0]\n            [webgl-30.lessons.perspective_3d_1 :as perspective-3d-1]\n            [webgl-30.lessons.cameras-0 :as cameras-0]\n            [webgl-30.lessons.cameras-1 :as cameras-1]\n            [webgl-30.lessons.animations :as animations]\n            [webgl-30.lessons.textures-0 :as textures-0]\n            [webgl-30.lessons.textures-1 :as textures-1]\n            [webgl-30.lessons.textures-2 :as textures-2]\n            [webgl-30.lessons.textures-3 :as textures-3]\n            [webgl-30.lessons.textures-3-revised :as textures-3-revised]\n\n            [webgl-30.lessons.hello_point_1 :as hello-point-1]\n            [webgl-30.lessons.hello_point_2 :as hello-point-2]\n            [webgl-30.lessons.click-point :as click-point]\n            [webgl-30.lessons.color-point :as color-point]\n            [webgl-30.lessons.multipoint :as multipoint]\n\n            [webgl-30.lessons.conway :as conway]\n            ))\n\n(def initial-state {:active-page-index 0\n                    :lessons           [fundamentals-0/lesson\n                                        fundamentals-1/lesson\n                                        fundamentals-2/lesson\n                                        translation-2d-0/lesson\n                                        translation-2d-1/lesson\n                                        rotation-2d-0/lesson\n                                        scale-2d/lesson\n                                        matrices-2d_0/lesson\n                                        matrices-2d_1/lesson\n                                        matrices-2d_2/lesson\n                                        orthographic-3d-0/lesson\n                                        orthographic-3d-1/lesson\n                                        perspective-3d-0/lesson\n                                        perspective-3d-1/lesson\n                                        cameras-0/lesson\n                                        cameras-1/lesson\n                                        animations/lesson\n                                        textures-0/lesson\n                                        textures-1/lesson\n                                        textures-2/lesson\n                                        textures-3/lesson\n                                        textures-3-revised/lesson\n                                        hello-point-1/lesson\n                                        hello-point-2/lesson\n                                        click-point/lesson\n                                        color-point/lesson\n                                        multipoint/lesson\n\n                                        ;conway/lesson\n\n                                        ]})\n\n(declare render-component)\n(defonce state-atom (atom nil))\n(when (nil? @state-atom)\n  (reset! state-atom initial-state)\n  (add-watch state-atom :loop (fn [_ _ _ _]\n                                (render-component @state-atom))))\n\n(defn arrow\n  []\n  (let [click-atom (r/atom false)]\n    (fn [{:keys [height width angle on-click style]}]\n      [:svg {:height        height\n             :width         width\n             :on-mouse-down (fn []\n                              (reset! click-atom true)\n                              (on-click))\n             :on-mouse-up   (fn [] (reset! click-atom false))\n             :viewport      (str \"0 0 \" height \" \" width)\n             :style         (merge {:cursor \"pointer\"} style)}\n       [:polygon {:transform (str \"rotate(\" angle \",\" (/ width 2) \",\" (/ height 2) \")\")\n                  :fill      \"white\"\n                  :style     {:opacity (if @click-atom 0.8 1)\n                              :filter  \"drop-shadow( 4px 4px 3px rgba(0, 0, 0, .7))\"}\n                  :points    (str (/ width 2) \",0 0,\" height \" \" width \",\" height)}]])))\n\n(defn navigation\n  [{:keys [style on-left on-right show-left show-right]}]\n  (let [arrow-width 36\n        arrow-height 36]\n    [:div {:style (merge {:display        \"flex\"\n                          :flex-direction \"row\"\n                          :align-items    \"center\"}\n                         style)}\n     (when show-left\n       [arrow {:height arrow-height :width arrow-width :angle 270 :on-click on-left :style {:margin-right \"10px\"}}])\n     (when show-right\n       [arrow {:height arrow-height :width arrow-width :angle 90 :on-click on-right}])]))\n\n(defn app\n  [{:keys [state]}]\n  (let [{:keys [title start source tutorial-source]} (get-in state [:lessons (:active-page-index state)])]\n    [:div\n     [:div {:style {:display         \"flex\"\n                    :flex-direction  \"row\"\n                    :justify-content \"space-between\"}}\n      [title]\n      [navigation {:show-left  (> (:active-page-index state) 0)\n                   :show-right (< (:active-page-index state) (dec (count (:lessons state))))\n                   :on-left    (fn []\n                                 (swap! state-atom (fn [{:keys [active-page-index] :as state}]\n                                                     (if (zero? active-page-index)\n                                                       state\n                                                       (assoc state :active-page-index (dec active-page-index))))))\n                   :on-right   (fn []\n                                 (swap! state-atom (fn [{:keys [lessons active-page-index] :as state}]\n                                                     (if (= (dec (count lessons)) active-page-index)\n                                                       state\n                                                       (assoc state :active-page-index (inc active-page-index))))))}]]\n     [:div\n      {:style {:display \"block\"}}\n      [start]]\n     [:div\n      [:span {:style {:color         \"white\"\n                      :display       \"block\"\n                      :margin-bottom \"10px\"\n                      :margin-top    \"10px\"}}\n       \"Clojure implementation of \"\n       [:a {:href   (str \"https://webglfundamentals.org/webgl/lessons/\" tutorial-source)\n            :target \"_blank\"\n            :style  {:color       \"rgba(0, 181, 255, 1)\"\n                     :font-family \"monospace\"}} tutorial-source]]\n      [:span \"Github: \" [:a {:href   (str \"https://github.com/erichall/webgl-30/blob/master/src/\" source)\n                             :target \"_blank\"\n                             :style  {:color       \"rgba(0, 181, 255, 1)\"\n                                      :font-family \"monospace\"}} \"[source]\"]]\n\n      ]]))\n\n(defn render-component\n  [state]\n  (rd/render [app {:state state}]\n             (. js/document (getElementById \"app\"))))\n\n(defn init!\n  []\n  (render-component @state-atom))\n\n(defn reload!\n  []\n  (render-component @state-atom))\n"]}