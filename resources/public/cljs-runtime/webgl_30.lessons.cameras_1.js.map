{"version":3,"sources":["webgl_30/lessons/cameras_1.cljs"],"mappings":"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","names":["webgl-30.lessons.cameras-1/initial-state","cljs.core.mapv.cljs$core$IFn$_invoke$arity$2","webgl-30.math/deg->rad","js/webgl-30","js/webgl-30.lessons","js/webgl-30.lessons.cameras-1","js/webgl-30.lessons.cameras-1.state-atom","webgl-30.lessons.cameras-1/state-atom","reagent.core.atom.cljs$core$IFn$_invoke$arity$1","cljs.core/deref","cljs.core/reset!","webgl-30.lessons.cameras-1/fragment-shader","webgl-30.lessons.cameras-1/vertex-shader","p__26222","map__26223","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","webgl-30.lessons.cameras-1/multiply-matrices","rect","gl","map__26225","translation","scale","rotation","fudge-factor","field-of-view","aspect","webgl-30.webgl/get-aspect","z-near","z-far","perspective-matrix","webgl-30.math/perspective-3d-matrix","translation-matrix","webgl-30.math/translation-3d-matrix","rotation-matrix-x","webgl-30.math/rotation-3d-x-matrix","cljs.core.nth.cljs$core$IFn$_invoke$arity$2","rotation-matrix-y","webgl-30.math/rotation-3d-y-matrix","rotation-matrix-z","webgl-30.math/rotation-3d-z-matrix","scale-matrix","webgl-30.math/scaling-3d-matrix","webgl-30.math/matrix-multiply-3d","webgl-30.lessons.cameras-1/draw!","timestamp","map__26235","map__26236","map__26237","clear-depth?","state","camera-angle-rad","n-fs","radius","f-position","projection-matrix","camera-matrix","camera-position","up","look-at-matrix","webgl-30.math/look-at-matrix","view-matrix","webgl-30.math/invert-4x4","view-projection-matrix","program","attributes","features","uniforms","element","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2","webgl-30.webgl/prepare-canvas!","webgl-30.webgl/use-program!","webgl-30.webgl/enable-features!","seq__26243","cljs.core/seq","chunk__26245","count__26246","i__26247","temp__5735__auto__","cljs.core/chunked-seq?","c__4609__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","ii","cljs.core.range.cljs$core$IFn$_invoke$arity$1","angle","Math/PI","x","Math/cos","y","Math/sin","cljs.core/assoc-in","cljs.core/vals","webgl_30.webgl.set_uniforms_BANG_.cljs$core$IFn$_invoke$arity$3","webgl-30.webgl/draw-arrays!","webgl-30.lessons.cameras-1/setup!","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2","p__26276","map__26277","webgl-30.webgl/link-shaders!","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","webgl-30.webgl/attribute","js/Float32Array","webgl-30.shapes/f-shape-3d","js/Uint8Array","webgl-30.shapes/f-shape-3d-color","webgl-30.lessons.cameras-1/lesson","webgl-30.core/get-filename","map__26304","canvas-id","webgl-30.component/webgl-canvas","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4","cljs.core/assoc","webgl-30.webgl/get-context","js/requestAnimationFrame","webgl-30.component/unit-circle","p__26318","map__26320","angle-rad"],"sourcesContent":["(ns webgl-30.lessons.cameras-1\n  (:require [reagent.core :as r]\n            [webgl-30.core :as c]\n            [webgl-30.math :as m]\n            [webgl-30.webgl :as webgl]\n            [webgl-30.shapes :as shapes]\n            [webgl-30.component :refer [webgl-canvas unit-circle]]))\n\n(def initial-state {:gl   nil\n                    :rect {:translation      [-150 0 -360]\n                           :rotation         (mapv m/deg->rad [190 40 320])\n                           :camera-angle-rad 0\n                           :scale            [1 1 1]\n                           :field-of-view    (m/deg->rad 60)\n                           :width            100\n                           :height           30\n                           :color            [0.3 0.3 0.3 1]}})\n(defonce state-atom (r/atom nil))\n(when (nil? @state-atom)\n  (reset! state-atom initial-state))\n\n(def fragment-shader\n  \"precision mediump float;\n\n   // we got this from the vertex shader!\n   varying vec4 v_color;\n\n   void main() {\n       gl_FragColor = v_color;\n   }\")\n\n(def vertex-shader\n  \"attribute vec4 a_position;\n   attribute vec4 a_color;\n\n  uniform mat4 u_matrix;\n\n  varying vec4 v_color;\n\n  void main() {\n    gl_Position = u_matrix * a_position;\n\n    // this can be passed to the fragment shader\n    v_color = a_color;\n  }\")\n\n(defn multiply-matrices\n  [{:keys [rect gl]}]\n  (let [{:keys [translation scale rotation fudge-factor field-of-view]} rect\n        aspect (webgl/get-aspect gl)\n        z-near 1\n        z-far 2000\n        perspective-matrix (m/perspective-3d-matrix field-of-view aspect z-near z-far)\n        translation-matrix (m/translation-3d-matrix translation)\n        rotation-matrix-x (m/rotation-3d-x-matrix (nth rotation 0))\n        rotation-matrix-y (m/rotation-3d-y-matrix (nth rotation 1))\n        rotation-matrix-z (m/rotation-3d-z-matrix (nth rotation 2))\n        scale-matrix (m/scaling-3d-matrix scale)]\n    (-> (m/matrix-multiply-3d perspective-matrix translation-matrix)\n        (m/matrix-multiply-3d rotation-matrix-x)\n        (m/matrix-multiply-3d rotation-matrix-y)\n        (m/matrix-multiply-3d rotation-matrix-z)\n        (m/matrix-multiply-3d scale-matrix))))\n\n(defn draw!\n  [timestamp]\n  (let [{:keys [gl rect clear-depth?] :as state} @state-atom\n        {:keys [field-of-view camera-angle-rad]} rect\n        n-fs 5\n        radius 200\n        aspect (webgl/get-aspect gl)\n        z-near 1\n        z-far 2000\n        f-position [radius 0 0]\n        projection-matrix (m/perspective-3d-matrix field-of-view aspect z-near z-far)\n        camera-matrix (-> (m/rotation-3d-y-matrix camera-angle-rad)\n                          (m/matrix-multiply-3d (m/translation-3d-matrix [0 0 (* radius 1.5)])))\n        camera-position [(nth camera-matrix 12) (nth camera-matrix 13) (nth camera-matrix 14)]\n        up [0 1 0]\n        look-at-matrix (m/look-at-matrix camera-position f-position up)\n        view-matrix (m/invert-4x4 look-at-matrix)\n        view-projection-matrix (m/matrix-multiply-3d projection-matrix view-matrix)\n        {:keys [program attributes features uniforms element]} (get-in state [:objects-to-draw :my-f])]\n\n    (-> (webgl/prepare-canvas! gl clear-depth?)\n        (webgl/use-program! program)\n        (webgl/enable-features! features))\n\n    (doseq [ii (range n-fs)\n            :let [angle (/ (* ii Math/PI 2) n-fs)\n                  x (* radius (Math/cos angle))\n                  y (* radius (Math/sin angle))\n                  translation-matrix (m/translation-3d-matrix [x 0 y])]]\n\n      (->> (assoc-in uniforms [:u_matrix :values] (m/matrix-multiply-3d view-projection-matrix translation-matrix))\n           vals\n           (webgl/set-uniforms! gl program))\n\n      (webgl/draw-arrays! gl element)\n      )\n    ))\n\n(defn setup!\n  []\n  (swap! state-atom (fn [{:keys [gl] :as state}]\n                      (let [program (webgl/link-shaders! gl {:fs fragment-shader :vs vertex-shader})]\n                        (->\n                          (assoc state :clear-depth? true)\n                          (assoc :objects-to-draw {:my-f {:program    program\n                                                          :features   [(.-CULL_FACE gl) (.-DEPTH_TEST gl)]\n                                                          :attributes {:a_position (webgl/attribute gl program {:name \"a_position\"\n                                                                                                                :size 3\n                                                                                                                :type (.-FLOAT gl)\n                                                                                                                :data (js/Float32Array. shapes/f-shape-3d)})\n                                                                       :a_color    (webgl/attribute gl program {:name      \"a_color\"\n                                                                                                                :size      3\n                                                                                                                :type      (.-UNSIGNED_BYTE gl)\n                                                                                                                :normalize true\n                                                                                                                :data      (js/Uint8Array. shapes/f-shape-3d-color)})}\n                                                          :uniforms   {:u_resolution  {:name   \"u_resolution\"\n                                                                                       :type   \"uniform2f\"\n                                                                                       :values [(aget gl \"canvas\" \"width\") (aget gl \"canvas\" \"height\")]}\n                                                                       :u_matrix      {:name      \"u_matrix\"\n                                                                                       :type      \"uniformMatrix4fv\"\n                                                                                       :transpose false\n                                                                                       :values    (multiply-matrices state)}\n                                                                       :u_fudgeFactor {:name   \"u_fudgeFactor\"\n                                                                                       :type   \"uniform1f\"\n                                                                                       :values [1]}}\n                                                          :element    {:draw-type (.-TRIANGLES gl)\n                                                                       :offset    0\n                                                                       :count     (* 16 6)}}}))))))\n\n\n(def ^:export lesson\n  {:title           (fn []\n                      [:div\n                       [:h1 {:style {:font-family \"monospace\"}}\n                        \"Lesson - Cameras\"]\n                       [:h4 {:style {:font-family \"monospace\"}}\n                        \"Camera\"]])\n   :source          (c/get-filename #'state-atom)\n   :tutorial-source \"webgl-3d-camera.html\"\n   :start           (fn []\n                      (let [canvas-id \"translation\"\n                            state @state-atom\n                            {:keys [translation scale rotation field-of-view]} (:rect state)]\n                        [:div {:style {:display        \"flex\"\n                                       :flex-direction \"row\"}}\n                         [webgl-canvas {:height   400\n                                        :width    400\n                                        :id       canvas-id\n                                        :on-mount (fn []\n                                                    (do\n                                                      (swap! state-atom assoc :gl (webgl/get-context canvas-id))\n                                                      (setup!)\n                                                      (js/requestAnimationFrame draw!)))}]\n                         [:div {:style {:margin-left \"30px\"}}\n\n                          [unit-circle {:height    300\n                                        :width     300\n                                        :radius    120\n                                        :on-change (fn [{:keys [angle-rad]}]\n                                                     (swap! state-atom assoc-in [:rect :camera-angle-rad] angle-rad)\n                                                     (js/requestAnimationFrame draw!))}]\n                          ]]))})\n"]}